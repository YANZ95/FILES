<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>웹 스토리지</title>
  </head>
  <body>
    <button id="login">로그인</button>
    <button id="logout">로그아웃</button>
  </body>
  <div>~님<span>환영합니다!</span></div>
  <script>
    const loginBtn = document.getElementById('login');
    const logoutBtn = document.getElementById('logout');

    // setItem(Key, value) - 키-값 쌍을 저장한다.
    // getItem(key) - 키에 해당하는 값을 가져온다.
    // removeitem(key) - 키와 해당 값을 삭제한다.
    // clear() - 모든 값을 삭제한다.
    loginBtn.addEventListener('click', function () {
      // 로그인 버튼 클릭 시 sessionStorage 에 정보 저장
      // sessionStorage.setItem("id", "kjy0912");
      localStorage.setItem('id', 'kjy0912');
      const userObj = {
        id: 'yjw1732',
        name: '양주원',
        addr: '대전광역시 서구 탄방동',
      };
      localStorage.setItem('userInfo', JSON.stringify(userObj));
    });
    logoutBtn.addEventListener('click', function () {
      localStorage.removeItem('userInfo');
    });

    const welcomeDiv = document.getElementById('welcome');
    let userInfo = localStorage.getItem('userInfo');
    userInfo = JSON.parse(userInfo);
    console.log(userInfo);
    if (userInfo) {
      welcomeDiv.innerHTML = `<span>${userInfo}님 환영합니다!!</span>`;
    }
    //     쿠키
    //      세션 스토리지, 로컬 스토리지
    //     차이
    // 세션 - 탭 하나에 종속
    // 다른 탭에 열면 유지가  안 됨
    // 로컬 -  탭을 열든 브라우저를 열든 경로만 맞으면 유지됨
    // 저장 공간을 나눠야 됨

    // div를 만들고  꺼내올 값을 만들건데   get.getElementById로 가져온다. 그 다음에 콘스트 유저 인포라고 해서
    // 로컬 스토리지에서 가져와봐야됨. 그 함수 안에 키값을 넣어준다. 아이디를 만들어주면
    // 문서를 가져온다. 콘솔 가져온다. 유저 인포
    // 콘솔 탭을 누르면 놀 이 나온다. 로그인 누르고 나서 새로고침~
    // 아이디가 나옴. 새로고침을 했다는 거는 로그인이 성공했을 때
    // 로컬스토리지에서 저장을 하고 지금 로컬스토리지에서 값을 받아서
    // 조건처리를 할 수 있겠져?
    // 콜솔 밑에 다가 조건문 써볼게요.
    // console()
    // 얘가 로그인이 된 상태인거죠. ~님 환영합니다.
    // getinneritem. 스팬
  </script>
</html>
